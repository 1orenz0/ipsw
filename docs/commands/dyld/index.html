<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>dyld - ipsw</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="icon" href="https://blacktop.github.io/ipsw/favicon.png">

  
  
  <link rel="stylesheet" href="/ipsw/css/style.min.21175f7e98575d70951f4c9a99c617ecaa019e3d4894ca0f8c839365a079ab42.css">
  

  

</head>

<body class='page page-default-single'>
  <div id="main-menu-mobile" class="main-menu-mobile">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="/ipsw/">
        <span>Home</span>
      </a>
    </li>
    
    <li class="menu-item-docs">
      <a href="/ipsw/docs/">
        <span>Docs</span>
      </a>
    </li>
    
    <li class="menu-item-github">
      <a href="https://github.com/blacktop/ipsw">
        <span>Github</span>
      </a>
    </li>
    
  </ul>
</div>
  <div class="wrapper">
    <div class='header'>
  <div class="container">
    <div class="logo">
      <a href="https://blacktop.github.io/ipsw/"><img alt="Logo" src="/ipsw/images/ipsw.png" /></a>
    </div>
    <div class="logo-mobile">
      <a href="https://blacktop.github.io/ipsw/"><img alt="Logo" src="/ipsw/images/ipsw.png" /></a>
    </div>
    <div id="main-menu" class="main-menu">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="/ipsw/">
        <span>Home</span>
      </a>
    </li>
    
    <li class="menu-item-docs">
      <a href="/ipsw/docs/">
        <span>Docs</span>
      </a>
    </li>
    
    <li class="menu-item-github">
      <a href="https://github.com/blacktop/ipsw">
        <span>Github</span>
      </a>
    </li>
    
  </ul>
</div>
    <button id="toggle-main-menu-mobile" class="hamburger hamburger--slider" type="button">
  <span class="hamburger-box">
    <span class="hamburger-inner"></span>
  </span>
</button>
  </div>
</div>


    
    
    
    
    
    

    
    <div class="container pt-2 pt-md-6 pb-3 pb-md-6">
      <div class="row">
        <div class="col-12 col-md-3 mb-3">
          <div class="sidebar">
            
<div class="docs-menu">
  <h4>Docs</h4>
  <ul>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/install/">Install</a>
    </li>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/build/">Build</a>
    </li>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/getting-started/">Getting Started</a>
    </li>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/commands/download/">download</a>
    </li>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/commands/info/">info</a>
    </li>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/commands/extract/">extract</a>
    </li>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/commands/macho/">macho</a>
    </li>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/commands/lipo/">lipo</a>
    </li>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/commands/kernel/">kernel</a>
    </li>
    
    <li class="active ">
      <a href="https://blacktop.github.io/ipsw/docs/commands/dyld/">dyld</a>
    </li>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/commands/device-tree/">dtree</a>
    </li>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/commands/disassemble/">disass</a>
    </li>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/commands/device-list/">device-list</a>
    </li>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/commands/ota/">ota</a>
    </li>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/commands/shsh/">shsh</a>
    </li>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/commands/img4/">img4</a>
    </li>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/commands/iboot/">iboot</a>
    </li>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/commands/symbolicate/">symbolicate</a>
    </li>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/commands/completion/">completion</a>
    </li>
    
    <li class="">
      <a href="https://blacktop.github.io/ipsw/docs/roadmap/">Roadmap</a>
    </li>
    
  </ul>
</div>

          </div>
        </div>
        <div class="col-12 col-md-9">
          
<h1 class="title">dyld</h1>
<div class="content ">
  <ul>
<li><a href="#dyld-info"><strong>dyld info</strong></a></li>
<li><a href="#dyld-extract"><strong>dyld extract</strong></a></li>
<li><a href="#dyld-macho"><strong>dyld macho</strong></a></li>
<li><a href="#dyld-symaddr"><strong>dyld symaddr</strong></a></li>
<li><a href="#dyld-a2s"><strong>dyld a2s</strong></a></li>
<li><a href="#dyld-objc"><strong>dyld objc</strong></a>
<ul>
<li><a href="#dyld-objc-class"><strong>dyld objc class</strong></a></li>
<li><a href="#dyld-objc-proto"><strong>dyld objc proto</strong></a></li>
<li><a href="#dyld-objc-sel"><strong>dyld objc sel</strong></a></li>
</ul>
</li>
<li><a href="#dyld-split"><strong>dyld split</strong></a></li>
<li><a href="#dyld-webkit"><strong>dyld webkit</strong></a></li>
<li><a href="#dyld-patches-"><strong>dyld patches</strong></a></li>
<li><a href="#dyld-a2o"><strong>dyld a2o</strong></a></li>
<li><a href="#dyld-o2a"><strong>dyld o2a</strong></a></li>
<li><a href="#dyld-disass"><strong>dyld disass</strong></a></li>
<li><a href="#dyld-imports"><strong>dyld imports</strong></a></li>
<li><a href="#dyld-xref"><strong>dyld xref</strong></a></li>
<li><a href="#dyld-tbd"><strong>dyld tbd</strong></a></li>
</ul>
<hr>
<h3 id="dyld-info"><strong>dyld info</strong></h3>
<p>Similar to <code>jtool -h -l dyld_shared_cache</code></p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ ipsw dyld info -l -s dyld_shared_cache <span class="p">|</span> head -n35

<span class="nv">Header</span>
<span class="o">======</span>
<span class="nv">Magic</span>            <span class="o">=</span> <span class="s2">&#34;dyld_v1  arm64e&#34;</span>
<span class="nv">UUID</span>             <span class="o">=</span> 92537455-A74B-3198-96CD-F2D2D2778315
<span class="nv">Platform</span>         <span class="o">=</span> iOS
<span class="nv">Format</span>           <span class="o">=</span> <span class="m">10</span> <span class="o">(</span>BuiltFromChainedFixups<span class="o">)</span>
Max <span class="nv">Slide</span>        <span class="o">=</span> 0x33940000 <span class="o">(</span>ASLR entropy: 16-bits<span class="o">)</span>

Local Symbols <span class="o">(</span>nlist array<span class="o">)</span>:     78MB,  offset:  0x62144260 -&gt; 0x66F98340
Local Symbols <span class="o">(</span>string pool<span class="o">)</span>:    256MB,  offset:  0x66F98340 -&gt; 0x7701333B
Code Signature:                   3MB,  offset:  0x77014000 -&gt; 0x773D0000
ImagesText Info <span class="o">(</span><span class="m">2072</span> entries<span class="o">)</span>:  64KB,  offset:  0x00000300 -&gt; 0x00010600
Slide Info <span class="o">(</span>v3<span class="o">)</span>:                  0KB,  offset:  0x00000000 -&gt; 0x00000000
Branch Pool:                      0MB,  offset:  0x00000000 -&gt; 0x00000000
Accelerate Tab:                   0KB,  address: 0x00000000 -&gt; 0x00000000
Patch Info:                     512KB,  address: 0x1E798654C -&gt; 0x1E7A068BC
Closures:                         6MB,  address: 0x1E7AE0000 -&gt; 0x1E8129748
Closures Trie:                   53KB,  address: 0x1E8129748 -&gt; 0x1E8136D40
Shared Region:                    4GB,  address: 0x180000000 -&gt; 0x280000000

<span class="nv">Mappings</span>
<span class="o">========</span>
<span class="p">|</span>    SEG     <span class="p">|</span> INITPROT <span class="p">|</span> MAXPROT <span class="p">|</span>  SIZE   <span class="p">|</span>        ADDRESS         <span class="p">|</span>     FILE OFFSET      <span class="p">|</span>  SLIDE INFO OFFSET   <span class="p">|</span> FLAGS <span class="p">|</span>
<span class="p">|</span>------------<span class="p">|</span>----------<span class="p">|</span>---------<span class="p">|</span>---------<span class="p">|</span>------------------------<span class="p">|</span>----------------------<span class="p">|</span>----------------------<span class="p">|</span>-------<span class="p">|</span>
<span class="p">|</span> __TEXT     <span class="p">|</span> r-x      <span class="p">|</span> r-x     <span class="p">|</span> <span class="m">1222</span> MB <span class="p">|</span> <span class="m">180000000</span> -&gt; 1CC6C0000 <span class="p">|</span> <span class="m">00000000</span> -&gt; 4C6C0000 <span class="p">|</span> <span class="m">00000000</span> -&gt; <span class="m">00000000</span> <span class="p">|</span> <span class="m">0</span>     <span class="p">|</span>
<span class="p">|</span> __DATA     <span class="p">|</span> rw-      <span class="p">|</span> rw-     <span class="p">|</span> <span class="m">116</span> MB  <span class="p">|</span> 1CE6C0000 -&gt; 1D5B18000 <span class="p">|</span> 4C6C0000 -&gt; 53B18000 <span class="p">|</span> 58CA4000 -&gt; 58CB4000 <span class="p">|</span> <span class="m">0</span>     <span class="p">|</span>
<span class="p">|</span> __AUTH     <span class="p">|</span> rw-      <span class="p">|</span> rw-     <span class="p">|</span> <span class="m">81</span> MB   <span class="p">|</span> 1D7B18000 -&gt; 1DCCA4000 <span class="p">|</span> 53B18000 -&gt; 58CA4000 <span class="p">|</span> 58CB8000 -&gt; 58CC4000 <span class="p">|</span> <span class="m">1</span>     <span class="p">|</span>
<span class="p">|</span> __LINKEDIT <span class="p">|</span> r--      <span class="p">|</span> r--     <span class="p">|</span> <span class="m">148</span> MB  <span class="p">|</span> 1DECA4000 -&gt; 1E8138000 <span class="p">|</span> 58CA4000 -&gt; <span class="m">62138000</span> <span class="p">|</span> <span class="m">00000000</span> -&gt; <span class="m">00000000</span> <span class="p">|</span> <span class="m">0</span>     <span class="p">|</span>

Code <span class="nv">Signature</span>
<span class="o">==============</span>
Code Directory <span class="o">(</span><span class="m">3963356</span> bytes<span class="o">)</span>
	Version:     ExecSeg
	Flags:       Adhoc
	CodeLimit:   0x78f24000
	Identifier:  com.apple.dyld.cache.arm64e.release <span class="o">(</span>@0x58<span class="o">)</span>
	TeamID:
	CDHash:      7d32d18703679ac152a74ff872e38dda69339eabe29a0a6837861cec3d05de87 <span class="o">(</span>computed<span class="o">)</span>
	<span class="c1"># of hashes: 123849 code (16384 pages) + 2 special</span>
	Hashes @188 size: <span class="m">32</span> Type: Sha256
Requirement Set <span class="o">(</span><span class="m">12</span> bytes<span class="o">)</span> with <span class="m">1</span> requirement
	0: 0x0 <span class="o">(</span>@0, <span class="m">12</span> bytes<span class="o">)</span>: empty requirement <span class="nb">set</span>

<span class="nv">Images</span>
<span class="o">======</span>
   1: 0x180045000 /usr/lib/system/libsystem_trace.dylib                                                           <span class="o">(</span>1264.0.0<span class="o">)</span>
   2: 0x18005C000 /usr/lib/system/libxpc.dylib                                                                    <span class="o">(</span>2001.0.0<span class="o">)</span>
   3: 0x180091000 /usr/lib/system/libsystem_blocks.dylib                                                          <span class="o">(</span>76.0.0<span class="o">)</span>
   4: 0x180093000 /usr/lib/system/libsystem_c.dylib                                                               <span class="o">(</span>1431.0.0<span class="o">)</span>
</code></pre></div><p><strong>NOTE:</strong> We added the <code>-s</code> or <code>--sig</code> flag to also parse the <em>CodeDirectory</em>.</p>
<h3 id="dyld-extract"><strong>dyld extract</strong></h3>
<p>Extract <em>dyld_shared_cache</em> from a previously downloaded <em>ipsw</em></p>
<ul>
<li><code>macOS</code></li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ ipsw dyld extract iPhone11,2_12.0_16A366_Restore.ipsw
   • Extracting dyld_shared_cache from IPSW
   • Mounting DMG
   • Extracting System/Library/Caches/com.apple.dyld/dyld_shared_cache_arm64e to dyld_shared_cache
   • Unmounting DMG
</code></pre></div><ul>
<li><code>docker</code></li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ docker run --init -it --rm <span class="se">\
</span><span class="se"></span>             --device /dev/fuse <span class="se">\
</span><span class="se"></span>             --cap-add<span class="o">=</span>SYS_ADMIN <span class="se">\
</span><span class="se"></span>             -v <span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span> :/data <span class="se">\
</span><span class="se"></span>             blacktop/ipsw -V dyld extract iPhone11_2_12.4.1_16G102_Restore.ipsw
</code></pre></div><h3 id="dyld-macho"><strong>dyld macho</strong></h3>
<p>Parse a dyld*shared_cache dylib *(same as ipsw macho cmd)_</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ ipsw dyld macho dyld_shared_cache JavaScriptCore --objc --loads <span class="p">|</span> bat -l m --tabs <span class="m">0</span> -p --theme Nord --wrap<span class="o">=</span>never --pager <span class="s2">&#34;less -S&#34;</span>

<span class="nv">Magic</span>         <span class="o">=</span> 64-bit MachO
<span class="nv">Type</span>          <span class="o">=</span> Dylib
<span class="nv">CPU</span>           <span class="o">=</span> AARCH64, ARM64e caps: PAC00
<span class="nv">Commands</span>      <span class="o">=</span> <span class="m">49</span> <span class="o">(</span>Size: 6680<span class="o">)</span>
<span class="nv">Flags</span>         <span class="o">=</span> NoUndefs, DyldLink, TwoLevel, NoReexportedDylibs, AppExtensionSafe, NlistOutofsyncWithDyldinfo, DylibInCache
000: LC_SEGMENT_64 <span class="nv">sz</span><span class="o">=</span>0x0027d000 <span class="nv">off</span><span class="o">=</span>0x390d8000-0x39355000 <span class="nv">addr</span><span class="o">=</span>0x1b90d8000-0x1b9355000 r-x/r-x   __TEXT
        <span class="nv">sz</span><span class="o">=</span>0x0022e8f4 <span class="nv">off</span><span class="o">=</span>0x390da674-0x39308f68 <span class="nv">addr</span><span class="o">=</span>0x1b90da674-0x1b9308f68            __TEXT.__text                   PureInstructions<span class="p">|</span>SomeInstructions
        <span class="nv">sz</span><span class="o">=</span>0x00001af0 <span class="nv">off</span><span class="o">=</span>0x39308f68-0x3930aa58 <span class="nv">addr</span><span class="o">=</span>0x1b9308f68-0x1b930aa58            __TEXT.__auth_stubs             PureInstructions<span class="p">|</span>SomeInstructions <span class="o">(</span>SymbolStubs<span class="o">)</span>
        <span class="nv">sz</span><span class="o">=</span>0x00004524 <span class="nv">off</span><span class="o">=</span>0x3930aa58-0x3930ef7c <span class="nv">addr</span><span class="o">=</span>0x1b930aa58-0x1b930ef7c            __TEXT.__objc_methlist
&lt;SNIP&gt;
</code></pre></div><div class="highlight"><pre class="chroma"><code class="language-m" data-lang="m"><span class="o">&lt;</span><span class="n">SNIP</span><span class="o">&gt;</span>
<span class="mi">0</span><span class="n">x001e39fc000</span> <span class="n">JSContext</span> <span class="p">:</span> <span class="n">NSObject</span> <span class="p">{</span>
  <span class="o">//</span> <span class="n">instance</span> <span class="n">variables</span>
  <span class="o">+</span><span class="mi">0</span><span class="n">x08</span> <span class="p">@</span>&#34;<span class="n">JSVirtualMachine</span>&#34; <span class="n">m_virtualMachine</span> <span class="p">(</span><span class="mi">0</span><span class="n">x8</span><span class="p">)</span>
  <span class="o">+</span><span class="mi">0</span><span class="n">x10</span> ^<span class="p">{</span><span class="n">OpaqueJSContext</span><span class="p">=}</span> <span class="n">m_context</span> <span class="p">(</span><span class="mi">0</span><span class="n">x8</span><span class="p">)</span>
  <span class="o">+</span><span class="mi">0</span><span class="n">x18</span> <span class="p">{</span><span class="n">Strong</span><span class="o">&lt;</span><span class="n">JSC</span><span class="p">::</span><span class="n">JSObject</span><span class="p">,</span> <span class="n">JSC</span><span class="p">::</span><span class="n">ShouldStrongDestructorGrabLock</span><span class="p">::</span><span class="n">No</span><span class="o">&gt;</span><span class="p">=</span>&#34;<span class="n">m_slot</span>&#34;^<span class="p">{</span><span class="n">JSValue</span><span class="p">}}</span> <span class="n">m_exception</span> <span class="p">(</span><span class="mi">0</span><span class="n">x8</span><span class="p">)</span>
  <span class="o">+</span><span class="mi">0</span><span class="n">x20</span> <span class="p">{</span><span class="n">WeakObjCPtr</span><span class="o">&lt;</span><span class="n">id</span><span class="o">&lt;</span><span class="n">JSModuleLoaderDelegate</span><span class="o">&gt;</span> <span class="o">&gt;</span><span class="p">=</span>&#34;<span class="n">m_weakReference</span>&#34;<span class="p">@}</span> <span class="n">m_moduleLoaderDelegate</span> <span class="p">(</span><span class="mi">0</span><span class="n">x8</span><span class="p">)</span>
  <span class="o">+</span><span class="mi">0</span><span class="n">x28</span> <span class="p">@</span>? <span class="n">_exceptionHandler</span> <span class="p">(</span><span class="mi">0</span><span class="n">x8</span><span class="p">)</span>
<span class="p">}</span>

 <span class="p">@</span><span class="n">property</span> <span class="p">(</span><span class="n">T</span><span class="p">@</span>&#34;<span class="n">JSValue</span>&#34;<span class="p">,</span><span class="n">R</span><span class="p">)</span> <span class="n">globalObject</span>
 <span class="p">@</span><span class="n">property</span> <span class="p">(</span><span class="n">T</span><span class="p">@</span>&#34;<span class="n">JSValue</span>&#34;<span class="p">,</span><span class="o">&amp;</span><span class="p">)</span> <span class="n">exception</span>
 <span class="p">@</span><span class="n">property</span> <span class="p">(</span><span class="n">T</span><span class="p">@</span>?<span class="p">,</span><span class="n">C</span><span class="p">,</span><span class="n">V_exceptionHandler</span><span class="p">)</span> <span class="n">exceptionHandler</span>
 <span class="p">@</span><span class="n">property</span> <span class="p">(</span><span class="n">T</span><span class="p">@</span>&#34;<span class="n">JSVirtualMachine</span>&#34;<span class="p">,</span><span class="n">R</span><span class="p">)</span> <span class="n">virtualMachine</span>
 <span class="p">@</span><span class="n">property</span> <span class="p">(</span><span class="n">T</span><span class="p">@</span>&#34;<span class="n">NSString</span>&#34;<span class="p">,</span><span class="n">C</span><span class="p">)</span> <span class="n">name</span>

  <span class="o">//</span> <span class="n">class</span> <span class="k">methods</span>
  <span class="mi">0</span><span class="n">x0018a04680c</span> <span class="o">+</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">currentContext</span><span class="p">]</span>
  <span class="mi">0</span><span class="n">x0018a046854</span> <span class="o">+</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">currentThis</span><span class="p">]</span>
  <span class="mi">0</span><span class="n">x0018a0468e8</span> <span class="o">+</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">currentCallee</span><span class="p">]</span>
  <span class="mi">0</span><span class="n">x00189e1b8d4</span> <span class="o">+</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">currentArguments</span><span class="p">]</span>
  <span class="mi">0</span><span class="n">x00189e1b4f8</span> <span class="o">+</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">contextWithJSGlobalContextRef</span><span class="p">:]</span>

  <span class="o">//</span> <span class="n">instance</span> <span class="k">methods</span>
  <span class="mi">0</span><span class="n">x0018a046afc</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">_setRemoteInspectionEnabled</span><span class="p">:]</span>
  <span class="mi">0</span><span class="n">x0018a046b1c</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">_debuggerRunLoop</span><span class="p">]</span>
  <span class="mi">0</span><span class="n">x00189e19ce4</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">wrapperForJSObject</span><span class="p">:]</span>
  <span class="mi">0</span><span class="n">x0018a046b08</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">_includesNativeCallStackWhenReportingExceptions</span><span class="p">]</span>
  <span class="mi">0</span><span class="n">x00189e1c908</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">exception</span><span class="p">]</span>
  <span class="mi">0</span><span class="n">x00189e1ba58</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">objectForKeyedSubscript</span><span class="p">:]</span>
  <span class="mi">0</span><span class="n">x00189e19294</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">evaluateScript</span><span class="p">:</span><span class="n">withSourceURL</span><span class="p">:]</span>
  <span class="mi">0</span><span class="n">x00189e1b588</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">globalObject</span><span class="p">]</span>
  <span class="mi">0</span><span class="n">x0018a046b44</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">exceptionHandler</span><span class="p">]</span>
  <span class="mi">0</span><span class="n">x0018a0469dc</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">setName</span><span class="p">:]</span>
  <span class="mi">0</span><span class="n">x00189e1bb28</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">setException</span><span class="p">:]</span>
  <span class="mi">0</span><span class="n">x00189e19eb4</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">wrapperForObjCObject</span><span class="p">:]</span>
  <span class="mi">0</span><span class="n">x0018a046984</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">virtualMachine</span><span class="p">]</span>
  <span class="mi">0</span><span class="n">x0018a046470</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">dependencyIdentifiersForModuleJSScript</span><span class="p">:]</span>
  <span class="mi">0</span><span class="n">x0018a046b30</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">moduleLoaderDelegate</span><span class="p">]</span>
  <span class="mi">0</span><span class="n">x0018a046b50</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">setExceptionHandler</span><span class="p">:]</span>
  <span class="mi">0</span><span class="n">x0018a046cf4</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">valueFromNotifyException</span><span class="p">:]</span>
  <span class="mi">0</span><span class="n">x00189e1c940</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">setObject</span><span class="p">:</span><span class="n">forKeyedSubscript</span><span class="p">:]</span>
  <span class="mi">0</span><span class="n">x00189e19b48</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">dealloc</span><span class="p">]</span>
  <span class="mi">0</span><span class="n">x0018a046b10</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">_setIncludesNativeCallStackWhenReportingExceptions</span><span class="p">:]</span>
  <span class="mi">0</span><span class="n">x0018a046b38</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">setModuleLoaderDelegate</span><span class="p">:]</span>
  <span class="mi">0</span><span class="n">x00189e19a98</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">initWithVirtualMachine</span><span class="p">:]</span>
  <span class="mi">0</span><span class="n">x0018a046d44</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">boolFromNotifyException</span><span class="p">:]</span>
  <span class="mi">0</span><span class="n">x0018a046bb0</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">initWithGlobalContextRef</span><span class="p">:]</span>
  <span class="mi">0</span><span class="n">x0018a04698c</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">name</span><span class="p">]</span>
  <span class="mi">0</span><span class="n">x0018a046d68</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">wrapperMap</span><span class="p">]</span>
  <span class="mi">0</span><span class="n">x00189e1c298</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">beginCallbackWithData</span><span class="p">:</span><span class="n">calleeValue</span><span class="p">:</span><span class="n">thisValue</span><span class="p">:</span><span class="n">argumentCount</span><span class="p">:</span><span class="n">arguments</span><span class="p">:]</span>
  <span class="mi">0</span><span class="n">x00189e1c208</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">ensureWrapperMap</span><span class="p">]</span>
  <span class="mi">0</span><span class="n">x0018a046c78</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">notifyException</span><span class="p">:]</span>
  <span class="mi">0</span><span class="n">x00189e1ba44</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">evaluateScript</span><span class="p">:]</span>
  <span class="mi">0</span><span class="n">x00189e19c88</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">init</span><span class="p">]</span>
  <span class="mi">0</span><span class="n">x00189e1c900</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="p">.</span><span class="n">cxx_construct</span><span class="p">]</span>
  <span class="mi">0</span><span class="n">x0018a0461e8</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">evaluateJSScript</span><span class="p">:]</span>
  <span class="mi">0</span><span class="n">x0018a046b24</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">_setDebuggerRunLoop</span><span class="p">:]</span>
  <span class="mi">0</span><span class="n">x0018a046b58</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="p">.</span><span class="n">cxx_destruct</span><span class="p">]</span>
  <span class="mi">0</span><span class="n">x0018a04679c</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">_setITMLDebuggableType</span><span class="p">]</span>
  <span class="mi">0</span><span class="n">x00189e1ba30</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">JSGlobalContextRef</span><span class="p">]</span>
  <span class="mi">0</span><span class="n">x00189e1baa0</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">endCallbackWithData</span><span class="p">:]</span>
  <span class="mi">0</span><span class="n">x0018a046af4</span> <span class="o">-</span><span class="p">[</span><span class="n">JSContext</span> <span class="n">_remoteInspectionEnabled</span><span class="p">]</span>
<span class="o">&lt;</span><span class="n">SNIP</span><span class="o">&gt;</span>
</code></pre></div><h3 id="dyld-symaddr"><strong>dyld symaddr</strong></h3>
<p>Find all instances of a symbol&rsquo;s <em>(unslid)</em> addresses in shared cache</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ ipsw dyld symaddr dyld_shared_cache &lt;SYMBOL_NAME&gt;
</code></pre></div><p>Speed it up by supplying the dylib name</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ ipsw dyld symaddr --image JavaScriptCore dyld_shared_cache &lt;SYMBOL_NAME&gt;
</code></pre></div><p><strong>NOTE:</strong> you don&rsquo;t have to supply the full image path</p>
<p>Dump ALL teh symbolz!!!</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ ipsw dyld symaddr dyld_shared_cache
</code></pre></div><h3 id="dyld-a2s"><strong>dyld a2s</strong></h3>
<p>Lookup what symbol is at a given <em>unslid</em> or <em>slid</em> address <em>(in hex)</em></p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ ipsw dyld a2s dyld_shared_cache_arm64e --slide 0x27010000 0x00000001bc39e1e0

   • Address location          <span class="nv">dylib</span><span class="o">=</span>/usr/lib/libobjc.A.dylib <span class="nv">section</span><span class="o">=</span>__TEXT.__text

0x19538e1e0: _objc_msgSend + <span class="m">32</span>
</code></pre></div><p>This will also create a cached version of the lookup hash table so the next time you lookup it will be much faster</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ <span class="nb">time</span> ipsw dyld a2s dyld_shared_cache 0x190a7221c
   • parsing public symbols...
   • parsing private symbols...
0x190a7221c: _xmlCtxtGetLastError
61.59s user 9.80s system 233% cpu <span class="s2">&#34;30.545 total&#34;</span>
</code></pre></div><div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ <span class="nb">time</span> ipsw dyld a2s dyld_shared_cache 0x190a7221c
0x190a7221c: _xmlCtxtGetLastError
2.12s user 0.51s system 109% cpu <span class="s2">&#34;2.407 total&#34;</span>
</code></pre></div><h3 id="dyld-objc"><strong>dyld objc</strong></h3>
<h4 id="dump-objc-addresses">Dump ObjC addresses</h4>
<p>Dump all the classes</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ ipsw dyld objc --class dyld_shared_cache
</code></pre></div><p>Dump all the protocols</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ ipsw dyld objc --proto dyld_shared_cache
</code></pre></div><p>Dump all the selectors</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ ipsw dyld objc --sel dyld_shared_cache
</code></pre></div><p>Dump all the imp-caches</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ ipsw dyld objc --imp-cache dyld_shared_cache
</code></pre></div><h3 id="dyld-objc-class"><strong>dyld objc class</strong></h3>
<p>Lookup a class&rsquo;s address</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ ipsw dyld objc class dyld_shared_cache release

0x1b92c85a8: release
</code></pre></div><p>Or get all the classes for an image</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ ipsw dyld objc class --image libobjc.A.dylib dyld_shared_cache
</code></pre></div><h3 id="dyld-objc-proto"><strong>dyld objc proto</strong></h3>
<p>Lookup a protocol&rsquo;s address</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ ipsw dyld objc proto dyld_shared_cache release

0x1b92c85a8: release
</code></pre></div><p>Or get all the protocols for an image</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ ipsw dyld objc proto --image libobjc.A.dylib dyld_shared_cache
</code></pre></div><h3 id="dyld-objc-sel"><strong>dyld objc sel</strong></h3>
<p>Lookup a selector&rsquo;s address</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ ipsw dyld objc sel dyld_shared_cache release

0x1b92c85a8: release
</code></pre></div><p>Or get all the selectors for an image</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ ipsw dyld objc sel --image libobjc.A.dylib iPhone12,1_N104AP_18A5319i/dyld_shared_cache

Objective-C Selectors:
/usr/lib/libobjc.A.dylib
    0x1c9dcc5fd: instanceMethodSignatureForSelector:
    0x1c8f14de2: instanceMethodForSelector:
    0x1c9d3be7d: instancesRespondToSelector:
    0x1c8f113e9: isAncestorOfObject:
    0x1c9e91b48: isSubclassOfClass:
    0x1c90fe47d: name
    0x1c9aa0937: descriptionForClassMethod:
    0x1c9a01891: descriptionForInstanceMethod:
    0x1c9aaf8c2: conformsTo:
    0x1c8ef287d: 🤯 &lt;<span class="o">==========</span> WTF??
    0x1c93562fd: release
    0x1c9b2c9fd: initialize
&lt;SNIP&gt;
</code></pre></div><h3 id="dyld-split"><strong>dyld split</strong></h3>
<p><em>(only on macOS and requires XCode to be installed)</em></p>
<p>Split up a <em>dyld_shared_cache</em></p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ ipsw dyld split dyld_shared_cache .
   • Splitting dyld_shared_cache

0/1445
1/1445
2/1445
3/1445
&lt;SNIP&gt;
1441/1445
1442/1445
1443/1445
1444/1445
</code></pre></div><h3 id="dyld-webkit"><strong>dyld webkit</strong></h3>
<p>Extract WebKit version from <em>dyld_shared_cache</em></p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ ipsw dyld webkit --rev dyld_shared_cache
   • WebKit Version: 609.1.17.0.1 <span class="o">(</span>svn rev 256416<span class="o">)</span>
</code></pre></div><h3 id="dyld-patches"><strong>dyld patches</strong></h3>
<p>List dyld patch info</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ ipsw dyld patches dyld_shared_cache <span class="p">|</span> grep entries
   • <span class="o">[</span><span class="m">68</span> entries<span class="o">]</span> /usr/lib/system/libsystem_c.dylib
   • <span class="o">[</span><span class="m">243</span> entries<span class="o">]</span> /usr/lib/system/libdispatch.dylib
   • <span class="o">[</span><span class="m">13</span> entries<span class="o">]</span> /usr/lib/system/libsystem_malloc.dylib
   • <span class="o">[</span><span class="m">3</span> entries<span class="o">]</span> /usr/lib/system/libsystem_platform.dylib
   • <span class="o">[</span><span class="m">8</span> entries<span class="o">]</span> /usr/lib/system/libsystem_pthread.dylib
   • <span class="o">[</span><span class="m">6</span> entries<span class="o">]</span> /usr/lib/libobjc.A.dylib
   • <span class="o">[</span><span class="m">23</span> entries<span class="o">]</span> /usr/lib/libc++abi.dylib
   • <span class="o">[</span><span class="m">45</span> entries<span class="o">]</span> /usr/lib/system/libsystem_kernel.dylib
   • <span class="o">[</span><span class="m">2</span> entries<span class="o">]</span> /usr/lib/system/libdyld.dylib
</code></pre></div><div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ ipsw dyld patches dyld_shared_cache -i libdyld.dylib
0x0028074C <span class="o">(</span><span class="m">63</span> patches<span class="o">)</span>  _dlclose
0x00280820 <span class="o">(</span><span class="m">399</span> patches<span class="o">)</span> _dlopen
</code></pre></div><div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ ipsw dyld patches dyld_shared_cache -i libdyld.dylib -s _dlopen <span class="p">|</span> head
   • _dlopen patch locations
offset: 0x57b18898, addend: 0, diversity: 0x0000, key: IA, auth: <span class="nb">true</span>
offset: 0x57b19170, addend: 0, diversity: 0x0000, key: IA, auth: <span class="nb">true</span>
offset: 0x57b1ec20, addend: 0, diversity: 0x0000, key: IA, auth: <span class="nb">true</span>
offset: 0x57b345f8, addend: 0, diversity: 0x0000, key: IA, auth: <span class="nb">true</span>
offset: 0x57b38a50, addend: 0, diversity: 0x0000, key: IA, auth: <span class="nb">true</span>
offset: 0x57b3cd08, addend: 0, diversity: 0x0000, key: IA, auth: <span class="nb">true</span>
offset: 0x57b3db98, addend: 0, diversity: 0x0000, key: IA, auth: <span class="nb">true</span>
offset: 0x57b79850, addend: 0, diversity: 0x0000, key: IA, auth: <span class="nb">true</span>
offset: 0x57b88138, addend: 0, diversity: 0x0000, key: IA, auth: <span class="nb">true</span>
offset: 0x57bb56a8, addend: 0, diversity: 0x0000, key: IA, auth: <span class="nb">true</span>
</code></pre></div><h3 id="dyld-a2o"><strong>dyld a2o</strong></h3>
<p>Convert <em>dyld_shared_cache</em> address to offset</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">ipsw dyld a2o dyld_shared_cache 1D7B18000

0x053b18000
</code></pre></div><h3 id="dyld-o2a"><strong>dyld o2a</strong></h3>
<p>Convert <em>dyld_shared_cache</em> offset to address</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">ipsw dyld a2o dyld_shared_cache 0x4C6C0000

0x1ce6c0000
</code></pre></div><h3 id="dyld-disass"><strong>dyld disass</strong></h3>
<p>Disassemble a function in the <em>dyld_shared_cache</em></p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ ipsw dyld disass dyld_shared_cache_arm64e --symbol _NSLog
   • Found dyld_shared_cache companion symbol map file...
   • Locating symbol: _NSLog
   • Found symbol              <span class="nv">dylib</span><span class="o">=</span>/System/Library/Frameworks/Foundation.framework/Foundation
   • Parsing ObjC runtime structures...
</code></pre></div><blockquote>
<p><strong>NOTE:</strong> You can speed up symbol lookups by supplying the <code>--image</code> flag or you can use the <code>--vaddr</code> flag</p>
</blockquote>
<div class="highlight"><pre class="chroma"><code class="language-s" data-lang="s"><span class="n">_NSLog</span><span class="o">:</span>
<span class="mh">0x1817e73e4</span><span class="o">:</span>  <span class="m">7</span><span class="n">f</span> <span class="m">23</span> <span class="m">03</span> <span class="n">d5</span>       <span class="n">pacibsp</span>
<span class="mh">0x1817e73e8</span><span class="o">:</span>  <span class="n">ff</span> <span class="m">83</span> <span class="m">00</span> <span class="n">d1</span>       <span class="n">sub</span>             <span class="n">sp</span><span class="p">,</span> <span class="n">sp</span><span class="p">,</span> <span class="c1">#0x20</span>
<span class="mh">0x1817e73ec</span><span class="o">:</span>  <span class="n">fd</span> <span class="m">7</span><span class="n">b</span> <span class="m">01</span> <span class="n">a9</span>       <span class="n">stp</span>             <span class="n">x29</span><span class="p">,</span> <span class="n">x30</span><span class="p">,</span> <span class="n">[sp</span><span class="p">,</span> <span class="c1">#0x10]</span>
<span class="mh">0x1817e73f0</span><span class="o">:</span>  <span class="n">fd</span> <span class="m">43</span> <span class="m">00</span> <span class="m">91</span>       <span class="n">add</span>             <span class="n">x29</span><span class="p">,</span> <span class="n">sp</span><span class="p">,</span> <span class="c1">#0x10</span>
<span class="mh">0x1817e73f4</span><span class="o">:</span>  <span class="n">a8</span> <span class="m">5</span><span class="n">a</span> <span class="m">2</span><span class="n">a</span> <span class="n">b0</span>       <span class="n">adrp</span>            <span class="n">x8</span><span class="p">,</span> <span class="c1">#0x1d633c000</span>
<span class="mh">0x1817e73f8</span><span class="o">:</span>  <span class="m">08</span> <span class="m">25</span> <span class="m">40</span> <span class="n">f9</span>       <span class="n">ldr</span>             <span class="n">x8</span><span class="p">,</span> <span class="n">[x8</span><span class="p">,</span> <span class="c1">#0x48] ; __got.___stack_chk_guard</span>
<span class="mh">0x1817e73fc</span><span class="o">:</span>  <span class="m">08</span> <span class="m">01</span> <span class="m">40</span> <span class="n">f9</span>       <span class="n">ldr</span>             <span class="n">x8</span><span class="p">,</span> <span class="n">[x8]</span>
<span class="mh">0x1817e7400</span><span class="o">:</span>  <span class="n">e8</span> <span class="m">07</span> <span class="m">00</span> <span class="n">f9</span>       <span class="n">str</span>             <span class="n">x8</span><span class="p">,</span> <span class="n">[sp</span><span class="p">,</span> <span class="c1">#0x8]</span>
<span class="mh">0x1817e7404</span><span class="o">:</span>  <span class="n">a8</span> <span class="m">43</span> <span class="m">00</span> <span class="m">91</span>       <span class="n">add</span>             <span class="n">x8</span><span class="p">,</span> <span class="n">x29</span><span class="p">,</span> <span class="c1">#0x10</span>
<span class="mh">0x1817e7408</span><span class="o">:</span>  <span class="n">e8</span> <span class="m">03</span> <span class="m">00</span> <span class="n">f9</span>       <span class="n">str</span>             <span class="n">x8</span><span class="p">,</span> <span class="n">[sp]</span>
<span class="mh">0x1817e740c</span><span class="o">:</span>  <span class="n">e2</span> <span class="m">03</span> <span class="m">1</span><span class="n">e</span> <span class="n">aa</span>       <span class="n">mov</span>             <span class="n">x2</span><span class="p">,</span> <span class="n">x30</span>
<span class="mh">0x1817e7410</span><span class="o">:</span>  <span class="n">e2</span> <span class="m">43</span> <span class="n">c1</span> <span class="n">da</span>       <span class="n">xpaci</span>           <span class="n">x2</span>
<span class="mh">0x1817e7414</span><span class="o">:</span>  <span class="n">a1</span> <span class="m">43</span> <span class="m">00</span> <span class="m">91</span>       <span class="n">add</span>             <span class="n">x1</span><span class="p">,</span> <span class="n">x29</span><span class="p">,</span> <span class="c1">#0x10</span>
<span class="mh">0x1817e7418</span><span class="o">:</span>  <span class="n">cf</span> <span class="n">ff</span> <span class="n">ff</span> <span class="m">97</span>       <span class="n">bl</span>              <span class="n">__NSLogv</span>
<span class="mh">0x1817e741c</span><span class="o">:</span>  <span class="n">e8</span> <span class="m">07</span> <span class="m">40</span> <span class="n">f9</span>       <span class="n">ldr</span>             <span class="n">x8</span><span class="p">,</span> <span class="n">[sp</span><span class="p">,</span> <span class="c1">#0x8]</span>
<span class="mh">0x1817e7420</span><span class="o">:</span>  <span class="n">a9</span> <span class="m">5</span><span class="n">a</span> <span class="m">2</span><span class="n">a</span> <span class="n">b0</span>       <span class="n">adrp</span>            <span class="n">x9</span><span class="p">,</span> <span class="c1">#0x1d633c000</span>
<span class="mh">0x1817e7424</span><span class="o">:</span>  <span class="m">29</span> <span class="m">25</span> <span class="m">40</span> <span class="n">f9</span>       <span class="n">ldr</span>             <span class="n">x9</span><span class="p">,</span> <span class="n">[x9</span><span class="p">,</span> <span class="c1">#0x48] ; __got.___stack_chk_guard</span>
<span class="mh">0x1817e7428</span><span class="o">:</span>  <span class="m">29</span> <span class="m">01</span> <span class="m">40</span> <span class="n">f9</span>       <span class="n">ldr</span>             <span class="n">x9</span><span class="p">,</span> <span class="n">[x9]</span>
<span class="mh">0x1817e742c</span><span class="o">:</span>  <span class="m">3</span><span class="n">f</span> <span class="m">01</span> <span class="m">08</span> <span class="n">eb</span>       <span class="n">cmp</span>             <span class="n">x9</span><span class="p">,</span> <span class="n">x8</span>
<span class="mh">0x1817e7430</span><span class="o">:</span>  <span class="m">81</span> <span class="m">00</span> <span class="m">00</span> <span class="m">54</span>       <span class="n">b.ne</span>            <span class="n">loc_1817e7440</span> <span class="p">;</span> ⤵ <span class="mh">0x10</span>
<span class="mh">0x1817e7434</span><span class="o">:</span>  <span class="n">fd</span> <span class="m">7</span><span class="n">b</span> <span class="m">41</span> <span class="n">a9</span>       <span class="n">ldp</span>             <span class="n">x29</span><span class="p">,</span> <span class="n">x30</span><span class="p">,</span> <span class="n">[sp</span><span class="p">,</span> <span class="c1">#0x10]</span>
<span class="mh">0x1817e7438</span><span class="o">:</span>  <span class="n">ff</span> <span class="m">83</span> <span class="m">00</span> <span class="m">91</span>       <span class="n">add</span>             <span class="n">sp</span><span class="p">,</span> <span class="n">sp</span><span class="p">,</span> <span class="c1">#0x20</span>
<span class="mh">0x1817e743c</span><span class="o">:</span>  <span class="n">ff</span> <span class="m">0</span><span class="n">f</span> <span class="m">5</span><span class="n">f</span> <span class="n">d6</span>       <span class="n">retab</span>
<span class="mh">0x1817e7440</span><span class="o">:</span>  <span class="p">;</span> <span class="n">loc_1817e7440</span>
<span class="mh">0x1817e7440</span><span class="o">:</span>  <span class="m">64</span> <span class="m">52</span> <span class="n">fe</span> <span class="m">95</span>       <span class="n">bl</span>              <span class="n">___stack_chk_fail</span>
</code></pre></div><h3 id="dyld-imports"><strong>dyld imports</strong></h3>
<p>List all dylibs that import/load a given dylib in the <em>dyld_shared_cache</em></p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ ipsw dyld imports dyld_shared_cache JavaScriptCore

JavaScriptCore Imported By:
<span class="o">===========================</span>
/System/Library/Frameworks/WebKit.framework/WebKit
/System/Library/PrivateFrameworks/WebCore.framework/WebCore
/System/Library/PrivateFrameworks/WebBookmarks.framework/WebBookmarks
/System/Library/PrivateFrameworks/SafariShared.framework/SafariShared
/System/Library/PrivateFrameworks/JetEngine.framework/JetEngine
/System/Library/Frameworks/SafariServices.framework/SafariServices
/System/Library/PrivateFrameworks/WebKitLegacy.framework/WebKitLegacy
/System/Library/PrivateFrameworks/SafariSharedUI.framework/SafariSharedUI
/System/Library/PrivateFrameworks/VideosUI.framework/VideosUI
/System/Library/PrivateFrameworks/StoreKitUI.framework/StoreKitUI
/System/Library/PrivateFrameworks/iTunesStoreUI.framework/iTunesStoreUI
/System/Library/PrivateFrameworks/ITMLKit.framework/ITMLKit
/System/Library/PrivateFrameworks/AppStoreKit.framework/AppStoreKit
/System/Library/PrivateFrameworks/WorkflowKit.framework/WorkflowKit
/System/Library/PreferenceBundles/MobileSafariSettings.bundle/MobileSafariSettings
/System/Library/PrivateFrameworks/ActionKit.framework/ActionKit
/System/Library/PrivateFrameworks/Cards.framework/Cards
/System/Library/PrivateFrameworks/CommunicationsSetupUI.framework/CommunicationsSetupUI
/System/Library/PrivateFrameworks/CoreChart.framework/CoreChart
/System/Library/PrivateFrameworks/JITAppKit.framework/JITAppKit
/System/Library/PrivateFrameworks/MailWebProcessSupport.framework/MailWebProcessSupport
/System/Library/PrivateFrameworks/MetricsKit.framework/MetricsKit
/System/Library/PrivateFrameworks/RemoteUI.framework/RemoteUI
/System/Library/PrivateFrameworks/SeymourServices.framework/SeymourServices
/System/Library/PrivateFrameworks/SlideshowKit.framework/Frameworks/OpusKit.framework/OpusKit
/System/Library/PrivateFrameworks/TVMLKit.framework/TVMLKit
/System/Library/PrivateFrameworks/TelephonyPreferences.framework/TelephonyPreferences
/System/Library/PrivateFrameworks/TouchML.framework/TouchML
/System/Library/PrivateFrameworks/VideoSubscriberAccountUI.framework/VideoSubscriberAccountUI
/System/Library/PrivateFrameworks/WebApp.framework/WebApp
/System/Library/PrivateFrameworks/WebInspector.framework/WebInspector
/System/Library/PrivateFrameworks/WebUI.framework/WebUI
/System/Library/PrivateFrameworks/WorkflowEditor.framework/WorkflowEditor
</code></pre></div><h3 id="dyld-xref"><strong>dyld xref</strong></h3>
<p>List all the cross-references in the <em>dyld_shared_cache</em> for a given virtual address</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">ipsw dyld symaddr dyld_shared_cache_arm64e _NSLog
0x1817e73e4: <span class="o">(</span>Regular<span class="o">)</span> _NSLog   /System/Library/Frameworks/Foundation.framework/Foundation
</code></pre></div><div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ ipsw dyld xref dyld_shared_cache 0x1817e73e4
   • Address location          <span class="nv">dylib</span><span class="o">=</span>/System/Library/Frameworks/Foundation.framework/Foundation <span class="nv">sym</span><span class="o">=</span>_NSLog

XREFS <span class="o">(</span>304<span class="o">)</span>
<span class="o">===========</span>
0x181828034: -<span class="o">[</span>__NSConcreteURLComponents percentEncodedHost<span class="o">]</span> + <span class="m">96</span>
0x1817ca15c: _NSCountMapTable + <span class="m">48</span>
0x1817fc33c: -<span class="o">[</span>NSItemProvider loadDataRepresentationForTypeIdentifier:completionHandler:<span class="o">]</span> + <span class="m">264</span>
0x18181a8fc: +<span class="o">[</span>NSString<span class="o">(</span>NSStringOtherEncodings<span class="o">)</span> localizedNameOfStringEncoding:<span class="o">]</span> + <span class="m">84</span>
0x181760ef0: -<span class="o">[</span>NSCharacterSet mutableCopyWithZone:<span class="o">]</span> + <span class="m">60</span>
0x181790fcc: _NSFreeHashTable + <span class="m">48</span>
0x181791244: _NSHashInsertKnownAbsent + <span class="m">52</span>
0x1817c9b70: _NSEnumerateMapTable + <span class="m">56</span>
&lt;SNIP&gt;
</code></pre></div><h3 id="dyld-tbd"><strong>dyld tbd</strong></h3>
<p>Generate a <code>.tbd</code> file for a dylib</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ ipsw dyld tbd dyld_shared_cache CoreSymbolication
   • Created CoreSymbolication.tbd
</code></pre></div><div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ cat CoreSymbolication.tbd
---
archs:           <span class="o">[</span> arm64e <span class="o">]</span>
platform:        ios
install-name:    /System/Library/PrivateFrameworks/CoreSymbolication.framework/CoreSymbolication
current-version: 64544.69.1.0.0
exports:
  - archs:           <span class="o">[</span> arm64e <span class="o">]</span>
    symbols:         <span class="o">[</span> _unmap_node, _thread_name_for_thread_port, &lt;SNIP&gt; <span class="o">]</span>
...
</code></pre></div>
</div>
</div>

        </div>
      </div>
    </div>
    
  </div>

  <div class="sub-footer">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="sub-footer-inner">
          <ul>
            <li class="zerostatic">
              <a href="https://blog.blacktop.io">blog.blacktop.io</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>


  

  
  

  
  <script type="text/javascript" src="/ipsw/js/scripts.min.eaf147370baecdd07c022597db631f99cab1c9cd6479de586f30327a568d6a0f.js"></script>
  

  
  
  
    
  


</body>

</html>
